{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/lib/supabase/client.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { createBrowserClient } from \"@supabase/ssr\"\r\n\r\nexport function createClient() {\r\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n\r\n  // Return null if env vars are missing instead of throwing\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    console.warn(\"[v0] Supabase environment variables not configured\")\r\n    return null\r\n  }\r\n\r\n  return createBrowserClient(supabaseUrl, supabaseAnonKey)\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAFA;;AAIO,SAAS;IACd,MAAM;IACN,MAAM;IAEN,0DAA0D;IAC1D;;IAKA,OAAO,IAAA,iMAAmB,EAAC,aAAa;AAC1C"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/auth-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\n\r\ninterface AuthFormProps {\r\n  onLoginSuccess: (userData: { email: string }) => void\r\n}\r\n\r\nexport function AuthForm({ onLoginSuccess }: AuthFormProps) {\r\n  const [isSignup, setIsSignup] = useState(false)\r\n  const [username, setUsername] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n    setLoading(true)\r\n\r\n    try {\r\n      const supabase = createClient()\r\n      if (!supabase) {\r\n        setError(\r\n          \"Supabase client not initialized. Make sure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set.\"\r\n        )\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isSignup) {\r\n        // sign up\r\n        const { error: signupError } = await supabase.auth.signUp({\r\n          email,\r\n          password,\r\n        })\r\n\r\n        if (signupError) {\r\n          setError(signupError.message)\r\n          return\r\n        }\r\n\r\n        // insert into Users table\r\n        await fetch(\"/api/user/create\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            username: username, // from your form\r\n            email: email,          // from your form\r\n          }),\r\n        })\r\n\r\n        setError(\"Check your email to confirm your account\")\r\n      } else {\r\n        // login\r\n        const { data, error: loginError } = await supabase.auth.signInWithPassword({\r\n          email,\r\n          password,\r\n        })\r\n\r\n        if (loginError) {\r\n          setError(loginError.message)\r\n          return\r\n        }\r\n\r\n        onLoginSuccess({ email: data.user?.email || email })\r\n        router.push(\"/\")\r\n      }\r\n    } catch (err) {\r\n      setError(\"An error occurred. Please try again.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n      <Card className=\"w-full max-w-md border-2 border-primary bg-card\">\r\n        <CardHeader className=\"border-b-2 border-primary\">\r\n          <CardTitle className=\"text-2xl text-primary\">CRIMSON</CardTitle>\r\n          <CardDescription className=\"text-muted-foreground\">\r\n            {isSignup ? \"Create a new account\" : \"Sign in to your account\"}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {isSignup && (\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Username</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter username\"\r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n                  className=\"border-primary bg-background\"\r\n                  required\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Email</label>\r\n              <Input\r\n                type=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n                className=\"border-primary bg-background\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Password</label>\r\n              <Input\r\n                type=\"password\"\r\n                placeholder=\"Enter password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                className=\"border-primary bg-background\"\r\n              />\r\n            </div>\r\n\r\n            {error && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{error}</div>}\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90 border-2 border-primary\"\r\n            >\r\n              {loading ? \"Loading...\" : isSignup ? \"Sign Up\" : \"Sign In\"}\r\n            </Button>\r\n          </form>\r\n\r\n          <div className=\"mt-6 text-center\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {isSignup ? \"Already have an account?\" : \"Don't have an account?\"}\r\n            </p>\r\n            <button\r\n              onClick={() => {\r\n                setIsSignup(!isSignup)\r\n                setError(\"\")\r\n              }}\r\n              className=\"mt-2 text-accent font-semibold hover:underline\"\r\n            >\r\n              {isSignup ? \"Sign In\" : \"Sign Up\"}\r\n            </button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAcO,SAAS,SAAS,EAAE,cAAc,EAAiB;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,IAAA,yIAAY;YAC7B,IAAI,CAAC,UAAU;gBACb,SACE;gBAEF,WAAW;gBACX;YACF;YAEA,IAAI,UAAU;gBACZ,UAAU;gBACV,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;oBACxD;oBACA;gBACF;gBAEA,IAAI,aAAa;oBACf,SAAS,YAAY,OAAO;oBAC5B;gBACF;gBAEA,0BAA0B;gBAC1B,MAAM,MAAM,oBAAoB;oBAC9B,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBACnB,UAAU;wBACV,OAAO;oBACT;gBACF;gBAEA,SAAS;YACX,OAAO;gBACL,QAAQ;gBACR,MAAM,EAAE,IAAI,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;oBACzE;oBACA;gBACF;gBAEA,IAAI,YAAY;oBACd,SAAS,WAAW,OAAO;oBAC3B;gBACF;gBAEA,eAAe;oBAAE,OAAO,KAAK,IAAI,EAAE,SAAS;gBAAM;gBAClD,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;;8BACd,8OAAC,uIAAU;oBAAC,WAAU;;sCACpB,8OAAC,sIAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,4IAAe;4BAAC,WAAU;sCACxB,WAAW,yBAAyB;;;;;;;;;;;;8BAGzC,8OAAC,wIAAW;oBAAC,WAAU;;sCACrB,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;gCACrC,0BACC,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,mIAAK;4CACJ,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAKd,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,mIAAK;4CACJ,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,QAAQ;4CACR,WAAU;;;;;;;;;;;;8CAId,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,mIAAK;4CACJ,MAAK;4CACL,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,QAAQ;4CACR,WAAU;;;;;;;;;;;;gCAIb,uBAAS,8OAAC;oCAAI,WAAU;8CAA6D;;;;;;8CAEtF,8OAAC,qIAAM;oCACL,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,UAAU,eAAe,WAAW,YAAY;;;;;;;;;;;;sCAIrD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CACV,WAAW,6BAA6B;;;;;;8CAE3C,8OAAC;oCACC,SAAS;wCACP,YAAY,CAAC;wCACb,SAAS;oCACX;oCACA,WAAU;8CAET,WAAW,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtC"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/game-detail-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { X, ChevronDown, ChevronUp } from \"lucide-react\"\r\n\r\ninterface GameDetailModalProps {\r\n  gameId: number\r\n  onClose: () => void\r\n}\r\n\r\nexport function GameDetailModal({ gameId, onClose }: GameDetailModalProps) {\r\n  const [expandedSections, setExpandedSections] = useState({\r\n    overview: true,\r\n    characters: false,\r\n    maps: false,\r\n    mobs: false,\r\n    storyArcs: false,\r\n    contributors: false\r\n  })\r\n  const [gameData, setGameData] = useState<any>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(false)\r\n\r\n  const toggleSection = (section: keyof typeof expandedSections) => {\r\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchGameDetails = async () => {\r\n      setLoading(true)\r\n      setError(false)\r\n      try {\r\n        console.log(`Fetching game details for game ID: ${gameId}`)\r\n        const res = await fetch(`/api/games/${gameId}`)\r\n        if (!res.ok) throw new Error(\"Failed to fetch\")\r\n        const data = await res.json()\r\n        setGameData({\r\n          ...data,\r\n          characters: data.games_characters || [],\r\n          maps: data.maps || [],\r\n          mobs: data.mobs || [],\r\n          storyArcs: data.storyarcs || [],\r\n          contributors: data.games_contributors || [],\r\n        })\r\n      } catch (err) {\r\n        console.error(err)\r\n        setError(true)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchGameDetails()\r\n  }, [gameId])\r\n\r\n  if (loading) return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <Card className=\"w-full max-w-2xl border-2 border-accent\">\r\n        <CardContent className=\"pt-6 text-center\">\r\n          <p className=\"text-muted-foreground\">Loading game details...</p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  if (error || !gameData) return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n      <Card className=\"w-full max-w-xl border-2 border-red-500 bg-card\">\r\n        <CardHeader className=\"border-b-2 border-red-500 flex justify-between items-start\">\r\n          <CardTitle className=\"text-xl text-red-500\">Failed to load game</CardTitle>\r\n          <button onClick={onClose} className=\"p-1 hover:bg-red-500/20 rounded\">\r\n            <X size={24} className=\"text-red-500\" />\r\n          </button>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6 text-center\">\r\n          <p className=\"text-muted-foreground\">Could not fetch game details.</p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <Card className=\"w-full max-w-2xl border-2 border-accent bg-card my-8\">\r\n        <CardHeader className=\"border-b-2 border-accent flex justify-between items-start\">\r\n          <div>\r\n            <CardTitle className=\"text-2xl text-primary\">{gameData.title}</CardTitle>\r\n            <CardDescription className=\"text-muted-foreground\">\r\n              Released: {new Date(gameData.releasedate).toLocaleDateString()}\r\n            </CardDescription>\r\n          </div>\r\n          <button onClick={onClose} className=\"p-1 hover:bg-accent/20 rounded\">\r\n            <X size={24} className=\"text-accent\" />\r\n          </button>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"pt-6 space-y-4\">\r\n          {/* Overview */}\r\n          <div className=\"border-l-4 border-accent\">\r\n            <button\r\n              onClick={() => toggleSection(\"overview\")}\r\n              className=\"w-full flex items-center justify-between p-3 bg-primary/10 hover:bg-primary/20 rounded\"\r\n            >\r\n              <h3 className=\"font-bold text-primary text-lg\">Overview</h3>\r\n              {expandedSections.overview ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\r\n            </button>\r\n            {expandedSections.overview && (\r\n              <div className=\"p-4 space-y-3\">\r\n                {gameData.gamelogourl && (\r\n                  <div className=\"w-32 h-32 bg-muted rounded overflow-hidden\">\r\n                    <img src={gameData.gamelogourl} alt=\"Game Logo\" className=\"w-full h-full object-cover\" />\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <p className=\"text-sm font-semibold text-muted-foreground\">Plot Summary</p>\r\n                  <p className=\"text-foreground\">{gameData.plotsummary || \"No description available\"}</p>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm font-semibold text-muted-foreground\">Multiplayer</p>\r\n                    <p className=\"text-foreground\">{gameData.multiplayersupport ? \"Yes\" : \"Single Player\"}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Characters */}\r\n          <Section title=\"Characters\" items={gameData.characters} expanded={expandedSections.characters} toggle={() => toggleSection(\"characters\")} renderItem={(bridgeItem: any) => {\r\n            const char = bridgeItem.ingamecharacters || {};\r\n            return (\r\n              <div key={char.characterid} className=\"p-2 bg-muted rounded\">\r\n                <p className=\"font-semibold text-foreground\">{char.charactername}</p>\r\n                <p className=\"text-sm text-muted-foreground\">{char.backstory}</p>\r\n              </div>\r\n            );\r\n          }} />\r\n\r\n          {/* Maps */}\r\n          <Section title=\"Maps\" items={gameData.maps} expanded={expandedSections.maps} toggle={() => toggleSection(\"maps\")} renderItem={(map: any) => (\r\n            <div key={map.mapid} className=\"p-2 bg-muted rounded\">\r\n              <p className=\"font-semibold text-foreground\">{map.mapname}{map.floorname && ` (${map.floorname})`}</p>\r\n              <p className=\"text-sm text-muted-foreground\">{map.description}</p>\r\n            </div>\r\n          )} />\r\n\r\n          {/* Mobs */}\r\n          <Section title=\"Enemies\" items={gameData.mobs} expanded={expandedSections.mobs} toggle={() => toggleSection(\"mobs\")} renderItem={(mob: any) => (\r\n            <div key={mob.mobid} className=\"p-2 bg-muted rounded\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <p className=\"font-semibold text-foreground\">{mob.mobname}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{mob.description}</p>\r\n                </div>\r\n                <span className=\"text-xs bg-accent text-accent-foreground px-2 py-1 rounded\">{mob.mobtype}</span>\r\n              </div>\r\n              {mob.weakness && <p className=\"text-xs mt-1 text-muted-foreground\">Weakness: <span className=\"font-semibold\">{mob.weakness}</span></p>}\r\n            </div>\r\n          )} />\r\n\r\n          {/* Story Arcs */}\r\n          <Section title=\"Story Arcs\" items={gameData.storyArcs} expanded={expandedSections.storyArcs} toggle={() => toggleSection(\"storyArcs\")} renderItem={(arc: any) => (\r\n            <div key={arc.storyarcid} className=\"p-2 bg-muted rounded\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <p className=\"font-semibold text-foreground\">{arc.arctitle}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{arc.summary}</p>\r\n                </div>\r\n                {arc.ismainarc && <span className=\"text-xs bg-primary text-primary-foreground px-2 py-1 rounded\">Main Arc</span>}\r\n              </div>\r\n            </div>\r\n          )} />\r\n\r\n          {/* Contributors */}\r\n          <Section title=\"Contributors\" items={gameData.contributors} expanded={expandedSections.contributors} toggle={() => toggleSection(\"contributors\")} renderItem={(bridgeItem: any) => {\r\n            const contrib = bridgeItem.contributors || {};\r\n            return (\r\n              <div key={contrib.contributorid} className=\"p-2 bg-muted rounded\">\r\n                <p className=\"font-semibold text-foreground\">{contrib.contributorname}</p>\r\n                <div className=\"flex gap-2 text-xs mt-1\">\r\n                  <span className=\"text-muted-foreground\">{contrib.rolename}</span>\r\n                  {contrib.specialization && <>\r\n                    <span className=\"text-muted-foreground\">{contrib.specialization}</span>\r\n                  </>}\r\n                </div>\r\n              </div>\r\n            );\r\n          }} />\r\n\r\n          <Button\r\n            onClick={onClose}\r\n            className=\"w-full bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n          >\r\n            Close\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n// reusable section component\r\nfunction Section({ title, items, expanded, toggle, renderItem }: any) {\r\n  return (\r\n    <div className=\"border-l-4 border-accent\">\r\n      <button onClick={toggle} className=\"w-full flex items-center justify-between p-3 bg-primary/10 hover:bg-primary/20 rounded\">\r\n        <h3 className=\"font-bold text-primary text-lg\">{title} ({items?.length || 0})</h3>\r\n        {expanded ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\r\n      </button>\r\n      {expanded && (\r\n        <div className=\"p-4 space-y-2\">\r\n          {items && items.length > 0 ? items.map(renderItem) : <p className=\"text-muted-foreground\">No {title.toLowerCase()} found</p>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1229, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/games-gallery.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { RefreshCw } from \"lucide-react\"\r\nimport { GameDetailModal } from \"./game-detail-modal\"\r\n\r\ninterface GamesGalleryProps {\r\n  games: any[]\r\n  loading: boolean\r\n  onRefresh: () => void\r\n}\r\n\r\nexport function GamesGallery({ games, loading, onRefresh }: GamesGalleryProps) {\r\n  const [selectedGameId, setSelectedGameId] = useState<number | null>(null)\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <p className=\"text-lg text-muted-foreground\">Loading games...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h1 className=\"text-3xl font-bold text-primary\">Game Database</h1>\r\n          <Button onClick={onRefresh} className=\"bg-accent text-accent-foreground hover:bg-accent/90\">\r\n            <RefreshCw size={20} className=\"mr-2\" />\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        {games.length === 0 ? (\r\n          <Card className=\"border-2 border-primary bg-card\">\r\n            <CardContent className=\"pt-6 text-center\">\r\n              <p className=\"text-muted-foreground\">No games found. Add one to get started!</p>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {games.map((game) => (\r\n              <Card\r\n                key={game.gameid}\r\n                className=\"border-2 border-primary hover:border-accent transition-colors bg-card cursor-pointer\"\r\n                onClick={() => setSelectedGameId(game.gameid)}\r\n              >\r\n                {game.gamecoverurl && (\r\n                  <div className=\"w-full h-48 bg-muted overflow-hidden rounded-t\">\r\n                    <img\r\n                      src={game.gamecoverurl || \"/placeholder.svg\"}\r\n                      alt={game.title}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-primary\">{game.title}</CardTitle>\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    Released: {new Date(game.releasedate).getFullYear()}\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2\">\r\n                  <p className=\"text-sm\">{game.plotsummary}</p>\r\n                  <div className=\"flex gap-2 flex-wrap\">\r\n                    <span className=\"text-xs bg-primary text-primary-foreground px-2 py-1 rounded\">\r\n                      {game.multiplayersupport ? \"Multiplayer\" : \"Single Player\"}\r\n                    </span>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {selectedGameId && (\r\n        <GameDetailModal\r\n          gameId={selectedGameId}\r\n          onClose={() => setSelectedGameId(null)}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,aAAa,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAqB;IAC3E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IAEpE,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;IAGnD;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC,qIAAM;gCAAC,SAAS;gCAAW,WAAU;;kDACpC,8OAAC,6NAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;;;;;;;oBAK3C,MAAM,MAAM,KAAK,kBAChB,8OAAC,iIAAI;wBAAC,WAAU;kCACd,cAAA,8OAAC,wIAAW;4BAAC,WAAU;sCACrB,cAAA,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;6CAIzC,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,iIAAI;gCAEH,WAAU;gCACV,SAAS,IAAM,kBAAkB,KAAK,MAAM;;oCAE3C,KAAK,YAAY,kBAChB,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,KAAK,KAAK,YAAY,IAAI;4CAC1B,KAAK,KAAK,KAAK;4CACf,WAAU;;;;;;;;;;;kDAIhB,8OAAC,uIAAU;;0DACT,8OAAC,sIAAS;gDAAC,WAAU;0DAAgB,KAAK,KAAK;;;;;;0DAC/C,8OAAC,4IAAe;gDAAC,WAAU;;oDAAwB;oDACtC,IAAI,KAAK,KAAK,WAAW,EAAE,WAAW;;;;;;;;;;;;;kDAGrD,8OAAC,wIAAW;wCAAC,WAAU;;0DACrB,8OAAC;gDAAE,WAAU;0DAAW,KAAK,WAAW;;;;;;0DACxC,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAK,WAAU;8DACb,KAAK,kBAAkB,GAAG,gBAAgB;;;;;;;;;;;;;;;;;;+BAvB5C,KAAK,MAAM;;;;;;;;;;;;;;;;YAiCzB,gCACC,8OAAC,yJAAe;gBACd,QAAQ;gBACR,SAAS,IAAM,kBAAkB;;;;;;;;AAK3C"}},
    {"offset": {"line": 1440, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/ui/tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn('flex flex-col gap-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn('flex-1 outline-none', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1506, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/character-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Plus } from \"lucide-react\"\r\n\r\nexport function CharacterForm() {\r\n  const [characters, setCharacters] = useState<any[]>([])\r\n  const [formData, setFormData] = useState({\r\n    characterName: \"\",\r\n    backstory: \"\",\r\n    description: \"\",\r\n    englishVA: \"\",\r\n    japaneseVA: \"\",\r\n    motionCapture: \"\",\r\n    spriteURL: \"\",\r\n  })\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }\r\n\r\n  const handleAddCharacter = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/characters\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        setError(\"Failed to add character\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Character added successfully!\")\r\n      setFormData({\r\n        characterName: \"\",\r\n        backstory: \"\",\r\n        description: \"\",\r\n        englishVA: \"\",\r\n        japaneseVA: \"\",\r\n        motionCapture: \"\",\r\n        spriteURL: \"\",\r\n      })\r\n\r\n      // Refresh characters list\r\n      fetchCharacters()\r\n    } catch (err) {\r\n      setError(\"An error occurred\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchCharacters = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/characters\")\r\n      const data = await response.json()\r\n      setCharacters(data.characters || [])\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch characters:\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <form onSubmit={handleAddCharacter} className=\"space-y-4 p-4 bg-primary/5 rounded border-2 border-primary\">\r\n        <h3 className=\"text-lg font-bold text-primary\">Add Character</h3>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Character Name *</label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"characterName\"\r\n              placeholder=\"Enter character name\"\r\n              value={formData.characterName}\r\n              onChange={handleChange}\r\n              required\r\n              className=\"border-primary bg-background\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">English Voice Actor</label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"englishVA\"\r\n              placeholder=\"Voice actor name\"\r\n              value={formData.englishVA}\r\n              onChange={handleChange}\r\n              className=\"border-primary bg-background\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Japanese Voice Actor</label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"japaneseVA\"\r\n              placeholder=\"Japanese VA name\"\r\n              value={formData.japaneseVA}\r\n              onChange={handleChange}\r\n              className=\"border-primary bg-background\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Motion Capture Actor</label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"motionCapture\"\r\n              placeholder=\"Motion capture name\"\r\n              value={formData.motionCapture}\r\n              onChange={handleChange}\r\n              className=\"border-primary bg-background\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Backstory</label>\r\n          <textarea\r\n            name=\"backstory\"\r\n            placeholder=\"Character backstory\"\r\n            value={formData.backstory}\r\n            onChange={handleChange}\r\n            rows={3}\r\n            className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Description</label>\r\n          <textarea\r\n            name=\"description\"\r\n            placeholder=\"Character description\"\r\n            value={formData.description}\r\n            onChange={handleChange}\r\n            rows={3}\r\n            className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Sprite URL</label>\r\n          <Input\r\n            type=\"url\"\r\n            name=\"spriteURL\"\r\n            placeholder=\"https://example.com/sprite.png\"\r\n            value={formData.spriteURL}\r\n            onChange={handleChange}\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n\r\n        {error && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{error}</div>}\r\n\r\n        {success && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{success}</div>}\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n        >\r\n          <Plus size={20} className=\"mr-2\" />\r\n          {loading ? \"Adding...\" : \"Add Character\"}\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1858, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/map-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Plus } from \"lucide-react\"\r\n\r\nexport function MapForm() {\r\n  const [maps, setMaps] = useState<any[]>([])\r\n  const [formData, setFormData] = useState({\r\n    mapName: \"\",\r\n    floorName: \"\",\r\n    description: \"\",\r\n    mapURL: \"\",\r\n  })\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }  \r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/maps\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        setError(\"Failed to add map\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Map added successfully!\")\r\n      setFormData({\r\n        mapName: \"\",\r\n        floorName: \"\",\r\n        description: \"\",\r\n        mapURL: \"\",\r\n      })\r\n    } catch (err) {\r\n      setError(\"An error occurred\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchMaps = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/maps\")\r\n      const data = await response.json()\r\n      setMaps(data.maps || [])\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch maps:\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-4 bg-primary/5 rounded border-2 border-primary\">\r\n      <h3 className=\"text-lg font-bold text-primary\">Add Map</h3>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Map Name *</label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"mapName\"\r\n            placeholder=\"Enter map name\"\r\n            value={formData.mapName}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Floor Name (e.g. 1F, 3B)</label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"floorName\"\r\n            placeholder=\"Floor designation\"\r\n            value={formData.floorName}\r\n            onChange={handleChange}\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium mb-2 text-foreground\">Description *</label>\r\n        <textarea\r\n          name=\"description\"\r\n          placeholder=\"Map description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          required\r\n          rows={4}\r\n          className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium mb-2 text-foreground\">Map Image URL</label>\r\n        <Input\r\n          type=\"url\"\r\n          name=\"mapURL\"\r\n          placeholder=\"https://example.com/map.png\"\r\n          value={formData.mapURL}\r\n          onChange={handleChange}\r\n          className=\"border-primary bg-background\"\r\n        />\r\n      </div>\r\n\r\n      {error && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{error}</div>}\r\n\r\n      {success && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{success}</div>}\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={loading}\r\n        className=\"w-full bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n      >\r\n        <Plus size={20} className=\"mr-2\" />\r\n        {loading ? \"Adding...\" : \"Add Map\"}\r\n      </Button>\r\n    </form>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AAPA;;;;;;AASO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,SAAS;QACT,WAAW;QACX,aAAa;QACb,QAAQ;IACV;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAC,OAAS,CAAC;gBACrB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,SAAS;gBACT;YACF;YAEA,WAAW;YACX,YAAY;gBACV,SAAS;gBACT,WAAW;gBACX,aAAa;gBACb,QAAQ;YACV;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,KAAK,IAAI,IAAI,EAAE;QACzB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;gBAAG,WAAU;0BAAiC;;;;;;0BAE/C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAiD;;;;;;0CAClE,8OAAC,mIAAK;gCACJ,MAAK;gCACL,MAAK;gCACL,aAAY;gCACZ,OAAO,SAAS,OAAO;gCACvB,UAAU;gCACV,QAAQ;gCACR,WAAU;;;;;;;;;;;;kCAId,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAiD;;;;;;0CAClE,8OAAC,mIAAK;gCACJ,MAAK;gCACL,MAAK;gCACL,aAAY;gCACZ,OAAO,SAAS,SAAS;gCACzB,UAAU;gCACV,WAAU;;;;;;;;;;;;;;;;;;0BAKhB,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAAiD;;;;;;kCAClE,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,SAAS,WAAW;wBAC3B,UAAU;wBACV,QAAQ;wBACR,MAAM;wBACN,WAAU;;;;;;;;;;;;0BAId,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAAiD;;;;;;kCAClE,8OAAC,mIAAK;wBACJ,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,SAAS,MAAM;wBACtB,UAAU;wBACV,WAAU;;;;;;;;;;;;YAIb,uBAAS,8OAAC;gBAAI,WAAU;0BAAqE;;;;;;YAE7F,yBAAW,8OAAC;gBAAI,WAAU;0BAAqE;;;;;;0BAEhG,8OAAC,qIAAM;gBACL,MAAK;gBACL,UAAU;gBACV,WAAU;;kCAEV,8OAAC,0MAAI;wBAAC,MAAM;wBAAI,WAAU;;;;;;oBACzB,UAAU,cAAc;;;;;;;;;;;;;AAIjC"}},
    {"offset": {"line": 2112, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/mob-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Plus } from \"lucide-react\"\r\n\r\nexport function MobForm() {\r\n  const [formData, setFormData] = useState({\r\n    mobName: \"\",\r\n    mobType: \"\",\r\n    description: \"\",\r\n    weakness: \"\",\r\n    mobSpriteURL: \"\",\r\n    spawnNotes: \"\",\r\n  })\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/mobs\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        setError(\"Failed to add enemy\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Enemy added successfully!\")\r\n      setFormData({\r\n        mobName: \"\",\r\n        mobType: \"\",\r\n        description: \"\",\r\n        weakness: \"\",\r\n        mobSpriteURL: \"\",\r\n        spawnNotes: \"\",\r\n      })\r\n    } catch (err) {\r\n      setError(\"An error occurred\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-4 bg-primary/5 rounded border-2 border-primary\">\r\n      <h3 className=\"text-lg font-bold text-primary\">Add Enemy</h3>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Enemy Name *</label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"mobName\"\r\n            placeholder=\"Enter enemy name\"\r\n            value={formData.mobName}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">\r\n            Enemy Type (e.g. Boss, Regular, Mini-boss)\r\n          </label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"mobType\"\r\n            placeholder=\"Enemy classification\"\r\n            value={formData.mobType}\r\n            onChange={handleChange}\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Weakness</label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"weakness\"\r\n            placeholder=\"Element or weakness\"\r\n            value={formData.weakness}\r\n            onChange={handleChange}\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2 text-foreground\">Sprite URL</label>\r\n          <Input\r\n            type=\"url\"\r\n            name=\"mobSpriteURL\"\r\n            placeholder=\"https://example.com/sprite.png\"\r\n            value={formData.mobSpriteURL}\r\n            onChange={handleChange}\r\n            className=\"border-primary bg-background\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium mb-2 text-foreground\">Description</label>\r\n        <textarea\r\n          name=\"description\"\r\n          placeholder=\"Enemy description and abilities\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium mb-2 text-foreground\">Spawn Notes</label>\r\n        <textarea\r\n          name=\"spawnNotes\"\r\n          placeholder=\"Where and when this enemy spawns\"\r\n          value={formData.spawnNotes}\r\n          onChange={handleChange}\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n        />\r\n      </div>\r\n\r\n      {error && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{error}</div>}\r\n\r\n      {success && <div className=\"p-2 bg-accent/10 border border-accent text-accent rounded text-sm\">{success}</div>}\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={loading}\r\n        className=\"w-full bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n      >\r\n        <Plus size={20} className=\"mr-2\" />\r\n        {loading ? \"Adding...\" : \"Add Enemy\"}\r\n      </Button>\r\n    </form>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2415, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/add-game-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { CharacterForm } from \"./character-form\"\r\nimport { MapForm } from \"./map-form\"\r\nimport { MobForm } from \"./mob-form\"\r\n// import { StoryArcForm } from \"./story-arc-form\"\r\n\r\ninterface AddGameFormProps {\r\n  onGameAdded: () => void\r\n}\r\n\r\nexport function AddGameForm({ onGameAdded }: AddGameFormProps) {\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    plotSummary: \"\",\r\n    releaseDate: \"\",\r\n    gameCoverURL: \"\",\r\n    gameLogoURL: \"\",\r\n    multiplayerSupport: false,\r\n  })\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n  const [activeTab, setActiveTab] = useState(\"game\")\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value, type } = e.target as HTMLInputElement\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? (e.target as HTMLInputElement).checked : value,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/games\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        setError(data.error || \"Failed to add game\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Game added successfully!\")\r\n      setFormData({\r\n        title: \"\",\r\n        plotSummary: \"\",\r\n        releaseDate: \"\",\r\n        gameCoverURL: \"\",\r\n        gameLogoURL: \"\",\r\n        multiplayerSupport: false,\r\n      })\r\n\r\n      setTimeout(() => {\r\n        onGameAdded()\r\n      }, 1500)\r\n    } catch (err) {\r\n      setError(\"An error occurred. Please try again.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <Card className=\"border-2 border-primary bg-card\">\r\n        <CardHeader className=\"border-b-2 border-primary\">\r\n          <CardTitle className=\"text-2xl text-primary\">Game Database Management</CardTitle>\r\n          <CardDescription>Add and manage game data and related entities</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-6\">\r\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-5 bg-primary/10 border-2 border-primary\">\r\n              <TabsTrigger\r\n                value=\"game\"\r\n                className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\"\r\n              >\r\n                Game\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"characters\"\r\n                className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\"\r\n              >\r\n                Characters\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"maps\"\r\n                className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\"\r\n              >\r\n                Maps\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"mobs\"\r\n                className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\"\r\n              >\r\n                Enemies\r\n              </TabsTrigger>\r\n              <TabsTrigger\r\n                value=\"storyarcs\"\r\n                className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\"\r\n              >\r\n                Story Arcs\r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            {/* Game Tab */}\r\n            <TabsContent value=\"game\" className=\"space-y-4 mt-4\">\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2 text-foreground\">Game Title *</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Enter game title\"\r\n                    value={formData.title}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"border-primary bg-background\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2 text-foreground\">Release Date *</label>\r\n                  <Input\r\n                    type=\"date\"\r\n                    name=\"releaseDate\"\r\n                    value={formData.releaseDate}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"border-primary bg-background\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2 text-foreground\">Plot Summary</label>\r\n                  <textarea\r\n                    name=\"plotSummary\"\r\n                    placeholder=\"Enter plot summary\"\r\n                    value={formData.plotSummary}\r\n                    onChange={handleChange}\r\n                    rows={4}\r\n                    className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2 text-foreground\">Cover Image URL</label>\r\n                  <Input\r\n                    type=\"url\"\r\n                    name=\"gameCoverURL\"\r\n                    placeholder=\"https://example.com/cover.jpg\"\r\n                    value={formData.gameCoverURL}\r\n                    onChange={handleChange}\r\n                    className=\"border-primary bg-background\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2 text-foreground\">Logo Image URL</label>\r\n                  <Input\r\n                    type=\"url\"\r\n                    name=\"gameLogoURL\"\r\n                    placeholder=\"https://example.com/logo.jpg\"\r\n                    value={formData.gameLogoURL}\r\n                    onChange={handleChange}\r\n                    className=\"border-primary bg-background\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"multiplayerSupport\"\r\n                    name=\"multiplayerSupport\"\r\n                    checked={formData.multiplayerSupport}\r\n                    onChange={handleChange}\r\n                    className=\"rounded border-primary\"\r\n                  />\r\n                  <label htmlFor=\"multiplayerSupport\" className=\"text-sm text-foreground\">\r\n                    Supports Multiplayer\r\n                  </label>\r\n                </div>\r\n\r\n                {error && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{error}</div>}\r\n\r\n                {success && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{success}</div>}\r\n\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90 border-2 border-primary\"\r\n                >\r\n                  {loading ? \"Adding...\" : \"Add Game\"}\r\n                </Button>\r\n              </form>\r\n            </TabsContent>\r\n\r\n            {/* Characters Tab */}\r\n            <TabsContent value=\"characters\" className=\"mt-4\">\r\n              <CharacterForm />\r\n            </TabsContent>\r\n\r\n            {/* Maps Tab */}\r\n            <TabsContent value=\"maps\" className=\"mt-4\">\r\n              <MapForm />\r\n            </TabsContent>\r\n\r\n            {/* Mobs Tab */}\r\n            <TabsContent value=\"mobs\" className=\"mt-4\">\r\n              <MobForm />\r\n            </TabsContent>\r\n\r\n            {/* Story Arcs Tab */}\r\n            {/* <TabsContent value=\"storyarcs\" className=\"mt-4\">\r\n              <StoryArcForm />\r\n            </TabsContent> */}\r\n          </Tabs>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;AAkBO,SAAS,YAAY,EAAE,WAAW,EAAoB;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,OAAO;QACP,aAAa;QACb,aAAa;QACb,cAAc;QACd,aAAa;QACb,oBAAoB;IACtB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM;QACtC,YAAY,CAAC,OAAS,CAAC;gBACrB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE,SAAS,aAAa,AAAC,EAAE,MAAM,CAAsB,OAAO,GAAG;YACzE,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,cAAc;gBACzC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,SAAS,KAAK,KAAK,IAAI;gBACvB;YACF;YAEA,WAAW;YACX,YAAY;gBACV,OAAO;gBACP,aAAa;gBACb,aAAa;gBACb,cAAc;gBACd,aAAa;gBACb,oBAAoB;YACtB;YAEA,WAAW;gBACT;YACF,GAAG;QACL,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;;8BACd,8OAAC,uIAAU;oBAAC,WAAU;;sCACpB,8OAAC,sIAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,4IAAe;sCAAC;;;;;;;;;;;;8BAEnB,8OAAC,wIAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC,iIAAI;wBAAC,OAAO;wBAAW,eAAe;wBAAc,WAAU;;0CAC7D,8OAAC,qIAAQ;gCAAC,WAAU;;kDAClB,8OAAC,wIAAW;wCACV,OAAM;wCACN,WAAU;kDACX;;;;;;kDAGD,8OAAC,wIAAW;wCACV,OAAM;wCACN,WAAU;kDACX;;;;;;kDAGD,8OAAC,wIAAW;wCACV,OAAM;wCACN,WAAU;kDACX;;;;;;kDAGD,8OAAC,wIAAW;wCACV,OAAM;wCACN,WAAU;kDACX;;;;;;kDAGD,8OAAC,wIAAW;wCACV,OAAM;wCACN,WAAU;kDACX;;;;;;;;;;;;0CAMH,8OAAC,wIAAW;gCAAC,OAAM;gCAAO,WAAU;0CAClC,cAAA,8OAAC;oCAAK,UAAU;oCAAc,WAAU;;sDACtC,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,mIAAK;oDACJ,MAAK;oDACL,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,KAAK;oDACrB,UAAU;oDACV,QAAQ;oDACR,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,mIAAK;oDACJ,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,WAAW;oDAC3B,UAAU;oDACV,QAAQ;oDACR,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAClE,8OAAC;oDACC,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,WAAW;oDAC3B,UAAU;oDACV,MAAM;oDACN,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,mIAAK;oDACJ,MAAK;oDACL,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,YAAY;oDAC5B,UAAU;oDACV,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,mIAAK;oDACJ,MAAK;oDACL,MAAK;oDACL,aAAY;oDACZ,OAAO,SAAS,WAAW;oDAC3B,UAAU;oDACV,WAAU;;;;;;;;;;;;sDAId,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,MAAK;oDACL,IAAG;oDACH,MAAK;oDACL,SAAS,SAAS,kBAAkB;oDACpC,UAAU;oDACV,WAAU;;;;;;8DAEZ,8OAAC;oDAAM,SAAQ;oDAAqB,WAAU;8DAA0B;;;;;;;;;;;;wCAKzE,uBAAS,8OAAC;4CAAI,WAAU;sDAA6D;;;;;;wCAErF,yBAAW,8OAAC;4CAAI,WAAU;sDAA6D;;;;;;sDAExF,8OAAC,qIAAM;4CACL,MAAK;4CACL,UAAU;4CACV,WAAU;sDAET,UAAU,cAAc;;;;;;;;;;;;;;;;;0CAM/B,8OAAC,wIAAW;gCAAC,OAAM;gCAAa,WAAU;0CACxC,cAAA,8OAAC,iJAAa;;;;;;;;;;0CAIhB,8OAAC,wIAAW;gCAAC,OAAM;gCAAO,WAAU;0CAClC,cAAA,8OAAC,qIAAO;;;;;;;;;;0CAIV,8OAAC,wIAAW;gCAAC,OAAM;gCAAO,WAAU;0CAClC,cAAA,8OAAC,qIAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYtB"}},
    {"offset": {"line": 2865, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/character-edit-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { X } from \"lucide-react\"\r\n\r\ninterface Character {\r\n  characterid: number\r\n  charactername: string\r\n  englishva?: string\r\n  japaneseva?: string\r\n  motioncapture?: string\r\n  backstory?: string\r\n  description?: string\r\n  spriteurl?: string\r\n}\r\n\r\ninterface CharacterEditModalProps {\r\n  character: Character\r\n  onClose: () => void\r\n  onSave: () => void\r\n}\r\n\r\nexport function CharacterEditModal({ character, onClose, onSave }: CharacterEditModalProps) {\r\n\r\n  const [formData, setFormData] = useState<Character>(character)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n\r\n  console.log(\"character prop:\", character)\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev: Character) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(`/api/characters/${character.characterid}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        setError(\"Failed to update character\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Character updated successfully!\")\r\n      setTimeout(() => {\r\n        onSave()\r\n      }, 1000)\r\n    } catch (err) {\r\n      setError(\"An error occurred\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <Card className=\"w-full max-w-2xl border-2 border-accent bg-card my-8\">\r\n        <CardHeader className=\"border-b-2 border-accent flex justify-between items-start\">\r\n          <div>\r\n            <CardTitle className=\"text-2xl text-primary\">Edit Character</CardTitle>\r\n            <CardDescription className=\"text-muted-foreground\">{character.charactername}</CardDescription>\r\n          </div>\r\n          <button onClick={onClose} className=\"p-1 hover:bg-accent/20 rounded\">\r\n            <X size={24} className=\"text-accent\" />\r\n          </button>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"pt-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Character Name</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"charactername\"\r\n                  value={formData.charactername}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">English Voice Actor</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"englishva\"\r\n                  value={formData.englishva || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Japanese Voice Actor</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"japaneseva\"\r\n                  value={formData.japaneseva || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Motion Capture Actor</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"motioncapture\"\r\n                  value={formData.motioncapture || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Backstory</label>\r\n              <textarea\r\n                name=\"backstory\"\r\n                value={formData.backstory || \"\"}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Description</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description || \"\"}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Sprite URL</label>\r\n              <Input\r\n                type=\"url\"\r\n                name=\"spriteurl\"\r\n                value={formData.spriteurl || \"\"}\r\n                onChange={handleChange}\r\n                className=\"border-primary bg-background\"\r\n              />\r\n            </div>\r\n\r\n            {error && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{error}</div>}\r\n\r\n            {success && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{success}</div>}\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 border-2 border-primary\"\r\n              >\r\n                {loading ? \"Saving...\" : \"Save Changes\"}\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"flex-1 bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3252, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/character-browser.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { RefreshCw, Edit2, Trash2, Plus } from \"lucide-react\"\r\nimport { CharacterEditModal } from \"./character-edit-modal\"\r\n\r\ninterface Character {\r\n  characterid: number\r\n  charactername: string\r\n  englishva?: string\r\n  japaneseva?: string\r\n  motioncapture?: string\r\n  backstory?: string\r\n  description?: string\r\n  spriteurl?: string\r\n}\r\n\r\ninterface CharacterBrowserProps {\r\n  characters: Character[]\r\n  loading: boolean\r\n  onRefresh: () => Promise<void>\r\n  onCharacterAdded: () => void\r\n}\r\n\r\nexport function CharacterBrowser({ characters: initialCharacters, loading: initialLoading }: CharacterBrowserProps) {\r\n  const [characters, setCharacters] = useState<Character[]>(initialCharacters || [])\r\n  const [loading, setLoading] = useState(initialLoading)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [selectedCharacter, setSelectedCharacter] = useState<Character | null>(null)\r\n  const [showAddForm, setShowAddForm] = useState(false)\r\n\r\n  useEffect(() => {\r\n    fetchCharacters()\r\n  }, [])\r\n\r\n  const fetchCharacters = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch(\"/api/characters\")\r\n      const data = await response.json()\r\n      setCharacters(data.characters || [])\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch characters:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (characterID: number) => {\r\n    if (!confirm(\"Are you sure you want to delete this character?\")) return\r\n\r\n    try {\r\n      const response = await fetch(`/api/characters/${characterID}`, { method: \"DELETE\" })\r\n      if (response.ok) {\r\n        setCharacters(characters.filter((c) => c.characterid !== characterID))\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to delete character:\", err)\r\n    }\r\n  }\r\n\r\n  const filteredCharacters = characters.filter(c =>\r\n    (c.charactername || \"\").toLowerCase().includes(searchTerm.toLowerCase())\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <p className=\"text-lg text-muted-foreground\">Loading characters...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center gap-4\">\r\n        <h1 className=\"text-3xl font-bold text-primary\">Characters</h1>\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={fetchCharacters} className=\"bg-accent text-accent-foreground hover:bg-accent/90\">\r\n            <RefreshCw size={20} className=\"mr-2\" /> Refresh\r\n          </Button>\r\n          <Button\r\n            onClick={() => setShowAddForm(!showAddForm)}\r\n            className=\"bg-primary text-primary-foreground hover:bg-primary/90 border-2 border-primary\"\r\n          >\r\n            <Plus size={20} className=\"mr-2\" /> Add Character\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Form Placeholder */}\r\n      {showAddForm && (\r\n        <Card className=\"border-2 border-accent bg-card\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-accent\">Add New Character</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-muted-foreground\">Use the Add Game form to add characters</div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Search */}\r\n      <div className=\"flex gap-2 mb-4\">\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Search characters...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"border-2 border-primary bg-background\"\r\n        />\r\n      </div>\r\n\r\n      {/* Character Grid */}\r\n      {filteredCharacters.length === 0 ? (\r\n        <Card className=\"border-2 border-primary bg-card\">\r\n          <CardContent className=\"pt-6 text-center\">\r\n            <p className=\"text-muted-foreground\">\r\n              {searchTerm ? \"No characters found matching your search.\" : \"No characters found.\"}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {filteredCharacters.map((character) => (\r\n            <Card\r\n              key={character.characterid}\r\n              className=\"border-2 border-primary hover:border-accent transition-colors bg-card cursor-pointer\"\r\n              // onClick={() => setSelectedCharacter(character)}\r\n            >\r\n              {character.spriteurl && (\r\n                <div className=\"w-full h-48 bg-muted overflow-hidden rounded-t\">\r\n                  <img\r\n                    src={character.spriteurl || \"/placeholder.svg\"}\r\n                    alt={character.charactername}\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                </div>\r\n              )}\r\n              <CardHeader>\r\n                <CardTitle className=\"text-primary\">{character.charactername}</CardTitle>\r\n                {(character.englishva || character.japaneseva) && (\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    VA: {character.englishva || character.japaneseva}\r\n                  </CardDescription>\r\n                )}\r\n                {(character.motioncapture) && (\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    Motion Capture Actor: {character.motioncapture}\r\n                  </CardDescription>\r\n                )}\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-2\">\r\n                <p className=\"text-sm text-muted-foreground\">{character.backstory}</p>\r\n                <div className=\"flex gap-2 pt-2\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      setSelectedCharacter(character)\r\n                    }}\r\n                    className=\"flex-1 bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                  >\r\n                    <Edit2 size={16} className=\"mr-1\" /> Edit\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      handleDelete(character.characterid)\r\n                    }}\r\n                    className=\"flex-1 bg-accent text-accent-foreground hover:bg-accent/90\"\r\n                  >\r\n                    <Trash2 size={16} className=\"mr-1\" /> Delete\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {selectedCharacter && (\r\n        <CharacterEditModal\r\n          character={selectedCharacter}\r\n          onClose={() => setSelectedCharacter(null)}\r\n          onSave={() => {\r\n            fetchCharacters()\r\n            setSelectedCharacter(null)\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAPA;;;;;;;;AA2BO,SAAS,iBAAiB,EAAE,YAAY,iBAAiB,EAAE,SAAS,cAAc,EAAyB;IAChH,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAc,qBAAqB,EAAE;IACjF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAmB;IAC7E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,kBAAkB;QACtB,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,cAAc,KAAK,UAAU,IAAI,EAAE;QACrC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC/C,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,oDAAoD;QAEjE,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,gBAAgB,EAAE,aAAa,EAAE;gBAAE,QAAQ;YAAS;YAClF,IAAI,SAAS,EAAE,EAAE;gBACf,cAAc,WAAW,MAAM,CAAC,CAAC,IAAM,EAAE,WAAW,KAAK;YAC3D;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,qBAAqB,WAAW,MAAM,CAAC,CAAA,IAC3C,CAAC,EAAE,aAAa,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAGvE,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;IAGnD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,qIAAM;gCAAC,SAAS;gCAAiB,WAAU;;kDAC1C,8OAAC,6NAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;0CAE1C,8OAAC,qIAAM;gCACL,SAAS,IAAM,eAAe,CAAC;gCAC/B,WAAU;;kDAEV,8OAAC,0MAAI;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;;;;;;;;;;;;;YAMxC,6BACC,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;kCACT,cAAA,8OAAC,sIAAS;4BAAC,WAAU;sCAAc;;;;;;;;;;;kCAErC,8OAAC,wIAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAM7C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,mIAAK;oBACJ,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,WAAU;;;;;;;;;;;YAKb,mBAAmB,MAAM,KAAK,kBAC7B,8OAAC,iIAAI;gBAAC,WAAU;0BACd,cAAA,8OAAC,wIAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAE,WAAU;kCACV,aAAa,8CAA8C;;;;;;;;;;;;;;;qCAKlE,8OAAC;gBAAI,WAAU;0BACZ,mBAAmB,GAAG,CAAC,CAAC,0BACvB,8OAAC,iIAAI;wBAEH,WAAU;;4BAGT,UAAU,SAAS,kBAClB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,KAAK,UAAU,SAAS,IAAI;oCAC5B,KAAK,UAAU,aAAa;oCAC5B,WAAU;;;;;;;;;;;0CAIhB,8OAAC,uIAAU;;kDACT,8OAAC,sIAAS;wCAAC,WAAU;kDAAgB,UAAU,aAAa;;;;;;oCAC3D,CAAC,UAAU,SAAS,IAAI,UAAU,UAAU,mBAC3C,8OAAC,4IAAe;wCAAC,WAAU;;4CAAwB;4CAC5C,UAAU,SAAS,IAAI,UAAU,UAAU;;;;;;;oCAGlD,UAAU,aAAa,kBACvB,8OAAC,4IAAe;wCAAC,WAAU;;4CAAwB;4CAC1B,UAAU,aAAa;;;;;;;;;;;;;0CAIpD,8OAAC,wIAAW;gCAAC,WAAU;;kDACrB,8OAAC;wCAAE,WAAU;kDAAiC,UAAU,SAAS;;;;;;kDACjE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,qIAAM;gDACL,MAAK;gDACL,SAAS,CAAC;oDACR,EAAE,eAAe;oDACjB,qBAAqB;gDACvB;gDACA,WAAU;;kEAEV,8OAAC,2MAAK;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAS;;;;;;;0DAEtC,8OAAC,qIAAM;gDACL,MAAK;gDACL,SAAS,CAAC;oDACR,EAAE,eAAe;oDACjB,aAAa,UAAU,WAAW;gDACpC;gDACA,WAAU;;kEAEV,8OAAC,oNAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAS;;;;;;;;;;;;;;;;;;;;uBA/CtC,UAAU,WAAW;;;;;;;;;;YAyDjC,mCACC,8OAAC,+JAAkB;gBACjB,WAAW;gBACX,SAAS,IAAM,qBAAqB;gBACpC,QAAQ;oBACN;oBACA,qBAAqB;gBACvB;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 3634, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/map-edit-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\ninterface Map {\r\n  mapid: number\r\n  mapname: string\r\n  floorname?: string\r\n  description?: string\r\n  mapurl?: string\r\n}\r\n\r\ninterface MapEditModalProps {\r\n  map: Map\r\n  onClose: () => void\r\n  onSave: () => void\r\n}\r\n\r\nexport function MapEditModal({ map, onClose, onSave }: MapEditModalProps) {\r\n  const [form, setForm] = useState<Map>(map)\r\n\r\n  const handleUpdate = async () => {\r\n    const response = await fetch(`/api/maps/${form.mapid}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(form),\r\n    })\r\n\r\n    if (response.ok) {\r\n      onSave()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50\">\r\n      <Card className=\"w-[500px] bg-card border-2 border-primary\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-primary\">Edit Map</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Map Name</label>\r\n            <Input\r\n              value={form.mapname}\r\n              onChange={(e) => setForm({ ...form, mapname: e.target.value })}\r\n              placeholder=\"Map name\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Floor Name</label>\r\n            <Input\r\n              value={form.floorname || \"\"}\r\n              onChange={(e) => setForm({ ...form, floorname: e.target.value })}\r\n              placeholder=\"Floor name\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Map Image URL</label>\r\n            <Input\r\n              value={form.mapurl || \"\"}\r\n              onChange={(e) => setForm({ ...form, mapurl: e.target.value })}\r\n              placeholder=\"Map image URL\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2 text-foreground\">Description</label>\r\n            <Input\r\n              value={form.description || \"\"}\r\n              onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n              placeholder=\"Description\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-2 pt-3\">\r\n            <Button variant=\"outline\" onClick={onClose} className=\"border-primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button className=\"bg-primary text-primary-foreground\" onClick={handleUpdate}>\r\n              Save Changes\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAqBO,SAAS,aAAa,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,EAAqB;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IAEtC,MAAM,eAAe;QACnB,MAAM,WAAW,MAAM,MAAM,CAAC,UAAU,EAAE,KAAK,KAAK,EAAE,EAAE;YACtD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,SAAS,EAAE,EAAE;YACf;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;;8BACd,8OAAC,uIAAU;8BACT,cAAA,8OAAC,sIAAS;wBAAC,WAAU;kCAAe;;;;;;;;;;;8BAEtC,8OAAC,wIAAW;oBAAC,WAAU;;sCACrB,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,mIAAK;oCACJ,OAAO,KAAK,OAAO;oCACnB,UAAU,CAAC,IAAM,QAAQ;4CAAE,GAAG,IAAI;4CAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAC5D,aAAY;;;;;;;;;;;;sCAGhB,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,mIAAK;oCACJ,OAAO,KAAK,SAAS,IAAI;oCACzB,UAAU,CAAC,IAAM,QAAQ;4CAAE,GAAG,IAAI;4CAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAC9D,aAAY;;;;;;;;;;;;sCAIhB,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,mIAAK;oCACJ,OAAO,KAAK,MAAM,IAAI;oCACtB,UAAU,CAAC,IAAM,QAAQ;4CAAE,GAAG,IAAI;4CAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAC3D,aAAY;;;;;;;;;;;;sCAIhB,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,mIAAK;oCACJ,OAAO,KAAK,WAAW,IAAI;oCAC3B,UAAU,CAAC,IAAM,QAAQ;4CAAE,GAAG,IAAI;4CAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAChE,aAAY;;;;;;;;;;;;sCAIhB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,qIAAM;oCAAC,SAAQ;oCAAU,SAAS;oCAAS,WAAU;8CAAiB;;;;;;8CAGvE,8OAAC,qIAAM;oCAAC,WAAU;oCAAqC,SAAS;8CAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1F"}},
    {"offset": {"line": 3847, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/map-browser.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { RefreshCw, Edit2, Trash2 } from \"lucide-react\"\r\nimport { MapEditModal } from \"./map-edit-modal\"\r\n\r\ninterface Map {\r\n  mapid: number\r\n  mapname: string\r\n  floorname?: string\r\n  description?: string\r\n  mapurl?: string\r\n}\r\n\r\ninterface MapBrowserProps {\r\n  maps: Map[]\r\n  loading: boolean\r\n  onRefresh: () => Promise<void>\r\n  onMapAdded: () => void\r\n}\r\n\r\nexport function MapBrowser({ maps: initialMaps, loading: initialLoading }: MapBrowserProps) {\r\n  const [maps, setMaps] = useState<Map[]>(initialMaps || [])\r\n  const [loading, setLoading] = useState(initialLoading)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [selectedMap, setSelectedMap] = useState<Map | null>(null)\r\n\r\n  useEffect(() => {\r\n    fetchMaps()\r\n  }, [])\r\n\r\n  const fetchMaps = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch(\"/api/maps\")\r\n      const data = await response.json()\r\n      setMaps(data.maps || [])\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch maps:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (mapID: number) => {\r\n    if (!confirm(\"Are you sure you want to delete this map?\")) return\r\n\r\n    try {\r\n      const response = await fetch(`/api/maps/${mapID}`, {\r\n        method: \"DELETE\",\r\n      })\r\n      if (response.ok) {\r\n        setMaps(maps.filter((m) => m.mapid !== mapID))\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to delete map:\", err)\r\n    }\r\n  }\r\n\r\n  const filteredMaps = maps.filter((m) =>\r\n    (m.mapname || \"\").toLowerCase().includes(searchTerm.toLowerCase())\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <p className=\"text-lg text-muted-foreground\">Loading maps...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold text-primary\">Maps</h1>\r\n        <Button onClick={fetchMaps} className=\"bg-accent text-accent-foreground hover:bg-accent/90\">\r\n          <RefreshCw size={20} className=\"mr-2\" />\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Search maps...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        className=\"border-2 border-primary bg-background\"\r\n      />\r\n\r\n      {filteredMaps.length === 0 ? (\r\n        <Card className=\"border-2 border-primary bg-card\">\r\n          <CardContent className=\"pt-6 text-center\">\r\n            <p className=\"text-muted-foreground\">\r\n              {searchTerm ? \"No maps found matching your search.\" : \"No maps found.\"}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          {filteredMaps.map((map) => (\r\n            <Card key={map.mapid} className=\"border-2 border-primary hover:border-accent transition-colors bg-card\">\r\n              <CardHeader className=\"pb-3\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <CardTitle className=\"text-primary\">{map.mapname}</CardTitle>\r\n                    {map.floorname && (\r\n                      <CardDescription className=\"text-muted-foreground\">Floor: {map.floorname}</CardDescription>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => setSelectedMap(map)}\r\n                      className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                    >\r\n                      <Edit2 size={16} />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => handleDelete(map.mapid)}\r\n                      className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <p className=\"text-sm text-muted-foreground\">{map.description}</p>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {selectedMap && (\r\n        <MapEditModal\r\n          map={selectedMap}\r\n          onClose={() => setSelectedMap(null)}\r\n          onSave={() => {\r\n            fetchMaps()\r\n            setSelectedMap(null)\r\n          }}\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4127, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/mob-edit-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { X } from \"lucide-react\"\r\n\r\ninterface Mob {\r\n  mobid: number\r\n  mobname: string\r\n  mobtype?: string\r\n  description?: string\r\n  weakness?: string\r\n  mobspriteurl?: string\r\n  spawnnotes?: string\r\n}\r\n\r\ninterface MobEditModalProps {\r\n  mob: Mob\r\n  onClose: () => void\r\n  onSave: () => void\r\n}\r\n\r\nexport function MobEditModal({ mob, onClose, onSave }: MobEditModalProps) {\r\n  const [formData, setFormData] = useState<Mob>(mob)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\")\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n    setSuccess(\"\")\r\n\r\n    try {\r\n      const response = await fetch(`/api/mobs/${mob.mobid}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        setError(\"Failed to update mob\")\r\n        return\r\n      }\r\n\r\n      setSuccess(\"Mob updated successfully!\")\r\n      setTimeout(() => {\r\n        onSave()\r\n      }, 1000)\r\n    } catch {\r\n      setError(\"An error occurred\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <Card className=\"w-full max-w-2xl border-2 border-accent bg-card my-8\">\r\n        <CardHeader className=\"border-b-2 border-accent flex justify-between items-start\">\r\n          <CardTitle className=\"text-2xl text-primary\">Edit Mob</CardTitle>\r\n          <button onClick={onClose} className=\"p-1 hover:bg-accent/20 rounded\">\r\n            <X size={24} className=\"text-accent\" />\r\n          </button>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"pt-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Mob Name</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"mobname\"\r\n                  value={formData.mobname}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Mob Type</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"mobtype\"\r\n                  value={formData.mobtype || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Weakness</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"weakness\"\r\n                  value={formData.weakness || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-foreground\">Sprite URL</label>\r\n                <Input\r\n                  type=\"url\"\r\n                  name=\"mobspriteurl\"\r\n                  value={formData.mobspriteurl || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"border-primary bg-background\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Description</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description || \"\"}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2 text-foreground\">Spawn Notes</label>\r\n              <textarea\r\n                name=\"spawnnotes\"\r\n                value={formData.spawnnotes || \"\"}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border-2 border-primary rounded bg-background text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            {error && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{error}</div>}\r\n            {success && <div className=\"p-3 bg-accent/10 border border-accent text-accent rounded\">{success}</div>}\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 border-2 border-primary\"\r\n              >\r\n                {loading ? \"Saving...\" : \"Save Changes\"}\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"flex-1 bg-accent text-accent-foreground hover:bg-accent/90 border-2 border-accent\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAwBO,SAAS,aAAa,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,EAAqB;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAM;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACjD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,KAAK,EAAE,EAAE;gBACrD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,SAAS;gBACT;YACF;YAEA,WAAW;YACX,WAAW;gBACT;YACF,GAAG;QACL,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;;8BACd,8OAAC,uIAAU;oBAAC,WAAU;;sCACpB,8OAAC,sIAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;8BAI3B,8OAAC,wIAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAiD;;;;;;0DAClE,8OAAC,mIAAK;gDACJ,MAAK;gDACL,MAAK;gDACL,OAAO,SAAS,OAAO;gDACvB,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAiD;;;;;;0DAClE,8OAAC,mIAAK;gDACJ,MAAK;gDACL,MAAK;gDACL,OAAO,SAAS,OAAO,IAAI;gDAC3B,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAiD;;;;;;0DAClE,8OAAC,mIAAK;gDACJ,MAAK;gDACL,MAAK;gDACL,OAAO,SAAS,QAAQ,IAAI;gDAC5B,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,8OAAC;;0DACC,8OAAC;gDAAM,WAAU;0DAAiD;;;;;;0DAClE,8OAAC,mIAAK;gDACJ,MAAK;gDACL,MAAK;gDACL,OAAO,SAAS,YAAY,IAAI;gDAChC,UAAU;gDACV,WAAU;;;;;;;;;;;;;;;;;;0CAKhB,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAClE,8OAAC;wCACC,MAAK;wCACL,OAAO,SAAS,WAAW,IAAI;wCAC/B,UAAU;wCACV,MAAM;wCACN,WAAU;;;;;;;;;;;;0CAId,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAClE,8OAAC;wCACC,MAAK;wCACL,OAAO,SAAS,UAAU,IAAI;wCAC9B,UAAU;wCACV,MAAM;wCACN,WAAU;;;;;;;;;;;;4BAIb,uBAAS,8OAAC;gCAAI,WAAU;0CAA6D;;;;;;4BACrF,yBAAW,8OAAC;gCAAI,WAAU;0CAA6D;;;;;;0CAExF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,qIAAM;wCACL,MAAK;wCACL,UAAU;wCACV,WAAU;kDAET,UAAU,cAAc;;;;;;kDAE3B,8OAAC,qIAAM;wCACL,MAAK;wCACL,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 4470, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/mob-browser.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { RefreshCw, Edit2, Trash2 } from \"lucide-react\"\r\nimport { MobEditModal } from \"./mob-edit-modal\"\r\n\r\ninterface Mob {\r\n  mobid: number;\r\n  mobname: string;\r\n  mobtype: string;\r\n  description: string;\r\n  weakness: string;\r\n  mobspriteurl: string;\r\n  spawnnotes: string;\r\n}\r\n\r\ninterface MobBrowserProps {\r\n  mobs: Mob[]\r\n  loading: boolean\r\n  onRefresh: () => Promise<void>\r\n  onMobAdded: () => void\r\n}\r\n\r\nexport function MobBrowser({ mobs: initialMobs, loading: initialLoading }: MobBrowserProps) {\r\n  const [mobs, setMobs] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [selectedMob, setSelectedMob] = useState<Mob | null>(null)\r\n\r\n  useEffect(() => {\r\n    fetchMobs()\r\n  }, [])\r\n\r\n  const fetchMobs = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch(\"/api/mobs\")\r\n      const data = await response.json()\r\n      setMobs(data.mobs || [])\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch mobs:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (mobID: number) => {\r\n    if (!confirm(\"Are you sure you want to delete this enemy?\")) return\r\n\r\n    try {\r\n      const response = await fetch(`/api/mobs/${mobID}`, {\r\n        method: \"DELETE\",\r\n      })\r\n\r\n      if (response.ok) {\r\n        setMobs(mobs.filter((m) => m.mobID !== mobID))\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to delete mob:\", err)\r\n    }\r\n  }\r\n\r\n  const filteredMobs = mobs.filter((m) =>\r\n    (m.mobname || \"\").toLowerCase().includes(searchTerm.toLowerCase()))\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <p className=\"text-lg text-muted-foreground\">Loading enemies...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold text-primary\">Enemies</h1>\r\n        <Button onClick={fetchMobs} className=\"bg-accent text-accent-foreground hover:bg-accent/90\">\r\n          <RefreshCw size={20} className=\"mr-2\" />\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Search enemies...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        className=\"border-2 border-primary bg-background\"\r\n      />\r\n\r\n      {filteredMobs.length === 0 ? (\r\n        <Card className=\"border-2 border-primary bg-card\">\r\n          <CardContent className=\"pt-6 text-center\">\r\n            <p className=\"text-muted-foreground\">\r\n              {searchTerm ? \"No enemies found matching your search.\" : \"No enemies found.\"}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {filteredMobs.map((mob) => (\r\n            <Card key={mob.mobid} className=\"border-2 border-primary hover:border-accent transition-colors bg-card\">\r\n              <CardHeader>\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <CardTitle className=\"text-primary\">{mob.mobname}</CardTitle>\r\n                    {mob.mobtype && (\r\n                      <CardDescription className=\"text-muted-foreground\">Type: {mob.mobtype}</CardDescription>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => setSelectedMob(mob)}\r\n                      className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\r\n                    >\r\n                      <Edit2 size={16} />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => handleDelete(mob.mobid)}\r\n                      className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-2\">\r\n                <p className=\"text-sm text-muted-foreground\">{mob.description}</p>\r\n                {mob.weakness && (\r\n                  <p className=\"text-sm\">\r\n                    <span className=\"font-semibold\">Weakness:</span> <span className=\"text-accent\">{mob.weakness}</span>\r\n                  </p>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {selectedMob && (\r\n        <MobEditModal\r\n          mob={selectedMob}\r\n          onClose={() => setSelectedMob(null)}\r\n          onSave={() => {\r\n            fetchMobs()\r\n            setSelectedMob(null)\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4779, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/dashboard-home.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Gamepad2, Users, Map, Zap, Plus, Eye } from \"lucide-react\"\r\n\r\ninterface DashboardHomeProps {\r\n  games: any[]\r\n  characters: any[]\r\n  maps: any[]\r\n  mobs: any[]\r\n  onNavigate: (view: \"home\" | \"browse\" | \"add\" | \"characters\" | \"maps\" | \"mobs\") => void\r\n}\r\n\r\nexport function DashboardHome({ games, characters, maps, mobs, onNavigate }: DashboardHomeProps) {\r\n  const stats = [\r\n    {\r\n      title: \"Total Games\",\r\n      value: games.length,\r\n      icon: Gamepad2,\r\n      color: \"text-primary\",\r\n      bgColor: \"bg-primary/10\",\r\n    },\r\n    {\r\n      title: \"Characters\",\r\n      value: characters.length,\r\n      icon: Users,\r\n      color: \"text-accent\",\r\n      bgColor: \"bg-accent/10\",\r\n    },\r\n    {\r\n      title: \"Maps\",\r\n      value: maps.length,\r\n      icon: Map,\r\n      color: \"text-primary\",\r\n      bgColor: \"bg-primary/10\",\r\n    },\r\n    {\r\n      title: \"Enemies\",\r\n      value: mobs.length,\r\n      icon: Zap,\r\n      color: \"text-accent\",\r\n      bgColor: \"bg-accent/10\",\r\n    },\r\n  ]\r\n\r\n  const quickActions = [\r\n    {\r\n      title: \"Add Game\",\r\n      description: \"Create a new game entry\",\r\n      icon: Plus,\r\n      action: () => onNavigate(\"add\"),\r\n      color: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n    },\r\n    {\r\n      title: \"Browse Games\",\r\n      description: \"View all games in the database\",\r\n      icon: Eye,\r\n      action: () => onNavigate(\"browse\"),\r\n      color: \"bg-accent text-accent-foreground hover:bg-accent/90\",\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Hero Section */}\r\n      <div className=\"bg-primary text-primary-foreground p-8 rounded-lg border-2 border-accent\">\r\n        <h1 className=\"text-4xl font-bold mb-2\">Welcome to Crimson Database</h1>\r\n        <p className=\"text-lg opacity-90\">\r\n          Manage and explore your comprehensive gaming database with detailed character, map, and story arc information.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Statistics Grid */}\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-primary mb-4\">Database Overview</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          {stats.map((stat, idx) => {\r\n            const Icon = stat.icon\r\n            return (\r\n              <Card key={idx} className=\"border-2 border-primary bg-card hover:border-accent transition-colors\">\r\n                <CardHeader className=\"pb-3\">\r\n                  <div className={`${stat.bgColor} w-12 h-12 rounded-lg flex items-center justify-center mb-2`}>\r\n                    <Icon className={`${stat.color} w-6 h-6`} />\r\n                  </div>\r\n                  <CardTitle className=\"text-sm text-muted-foreground\">{stat.title}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"text-3xl font-bold text-primary\">{stat.value}</div>\r\n                </CardContent>\r\n              </Card>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-primary mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {quickActions.map((action, idx) => {\r\n            const Icon = action.icon\r\n            return (\r\n              <Button\r\n                key={idx}\r\n                onClick={action.action}\r\n                className={`${action.color} h-auto p-6 border-2 border-current justify-start flex-col items-start`}\r\n              >\r\n                <div className=\"flex items-center gap-3 w-full\">\r\n                  <Icon size={32} />\r\n                  <div className=\"text-left\">\r\n                    <div className=\"font-bold text-lg\">{action.title}</div>\r\n                    <div className=\"text-sm opacity-90\">{action.description}</div>\r\n                  </div>\r\n                </div>\r\n              </Button>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Games */}\r\n      {games.length > 0 && (\r\n        <div>\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-2xl font-bold text-primary\">Recent Games</h2>\r\n            <Button\r\n              onClick={() => onNavigate(\"browse\")}\r\n              className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\r\n            >\r\n              View All\r\n            </Button>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {games.slice(0, 3).map((game) => (\r\n              <Card\r\n                key={game.gameid}\r\n                className=\"border-2 border-primary hover:border-accent transition-colors bg-card cursor-pointer\"\r\n                onClick={() => onNavigate(\"browse\")}\r\n              >\r\n                {game.gamecoverurl && (\r\n                  <div className=\"w-full h-32 bg-muted overflow-hidden rounded-t\">\r\n                    <img\r\n                      src={game.gamecoverurl || \"/placeholder.svg\"}\r\n                      alt={game.title}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-primary line-clamp-1\">{game.title}</CardTitle>\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    {new Date(game.releasedate).getFullYear()}\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm line-clamp-2 text-muted-foreground\">{game.plotsummary}</p>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recent Characters */}\r\n      {characters.length > 0 && (\r\n        <div className=\"mt-8\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-2xl font-bold text-primary\">Recent Characters</h2>\r\n            <Button\r\n              onClick={() => onNavigate(\"characters\")}\r\n              className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\r\n            >\r\n              View All\r\n            </Button>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {characters.slice(0, 3).map((char) => (\r\n              <Card\r\n                key={char.characterid}\r\n                className=\"border-2 border-primary hover:border-accent transition-colors bg-card cursor-pointer\"\r\n                onClick={() => onNavigate(\"characters\")}\r\n              >\r\n                {char.spriteurl && (\r\n                  <div className=\"w-full h-32 bg-muted overflow-hidden rounded-t\">\r\n                    <img src={char.spriteurl || \"/placeholder.svg\"} alt={char.name} className=\"w-full h-full object-cover\" />\r\n                  </div>\r\n                )}\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-primary line-clamp-1\">{char.name}</CardTitle>\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    {char.englishva && `English VA: ${char.englishva}`}\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm line-clamp-2 text-muted-foreground\">{char.backstory}</p>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n      {/* Navigation Help */}\r\n      <Card className=\"border-2 border-primary bg-primary/5\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-primary\">Navigation Guide</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-2 text-sm\">\r\n          <p>\r\n            <span className=\"font-bold text-primary\">Browse Games:</span> View all games with detailed information and\r\n            expand to see related entities.\r\n          </p>\r\n          <p>\r\n            <span className=\"font-bold text-primary\">Add Game:</span> Create new game entries and manage characters,\r\n            maps, and story arcs using tabbed forms.\r\n          </p>\r\n          <p>\r\n            <span className=\"font-bold text-primary\">Characters, Maps, Enemies:</span> Browse and manage individual\r\n            entities with search and edit functionality.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5332, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/components/dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { GamesGallery } from \"./games-gallery\"\r\nimport { AddGameForm } from \"./add-game-form\"\r\nimport { CharacterBrowser } from \"./character-browser\"\r\nimport { MapBrowser } from \"./map-browser\"\r\nimport { MobBrowser } from \"./mob-browser\"\r\nimport { DashboardHome } from \"./dashboard-home\"\r\nimport { Menu, X } from \"lucide-react\"\r\n\r\ninterface DashboardProps {\r\n  user: { username: string; email: string }\r\n  onLogout: () => void\r\n}\r\n\r\nexport function Dashboard({ user, onLogout }: DashboardProps) {\r\n  const [view, setView] = useState<\"home\" | \"browse\" | \"add\" | \"characters\" | \"maps\" | \"mobs\" | \"account\">(\"home\")\r\n  const [games, setGames] = useState<any[]>([])\r\n  const [characters, setCharacters] = useState<any[]>([])\r\n  const [maps, setMaps] = useState<any[]>([])\r\n  const [mobs, setMobs] = useState<any[]>([])\r\n  const [loadingGames, setLoadingGames] = useState(true)\r\n  const [loadingCharacters, setLoadingCharacters] = useState(true)\r\n  const [loadingMaps, setLoadingMaps] = useState(true)\r\n  const [loadingMobs, setLoadingMobs] = useState(true)\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    fetchGames(),\r\n      fetchCharacters(),\r\n      fetchMaps(),\r\n      fetchMobs()\r\n  }, [])\r\n\r\n  const fetchGames = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/games\")\r\n      const data = await response.json()\r\n      const formattedGames = (data.games || []).map((game: any) => ({\r\n        gameid: game.gameid,\r\n        title: game.title,\r\n        releasedate: game.releasedate,\r\n        plotsummary: game.plotsummary,\r\n        gamecoverurl: game.gamecoverurl,\r\n        gamelogourl: game.gamelogourl,\r\n        multiplayersupport: game.multiplayersupport,\r\n      }))\r\n      setGames(formattedGames)\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch games:\", err)\r\n    } finally {\r\n      setLoadingGames(false)\r\n    }\r\n  }\r\n\r\n  const handleGameAdded = () => {\r\n    fetchGames()\r\n    setView(\"browse\")\r\n  }\r\n\r\n  const fetchCharacters = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/characters\");\r\n      const data = await response.json();\r\n\r\n      if (data.error) {\r\n        console.error(data.error);\r\n        setCharacters([]);\r\n        return;\r\n      }\r\n\r\n      const formattedCharacters = (data.characters || []).map((char: any) => ({\r\n        characterid: char.characterid,\r\n        name: char.charactername,\r\n        description: char.description,\r\n        backstory: char.backstory,\r\n        englishva: char.englishva,\r\n        japaneseva: char.japaneseva,\r\n        motioncapture: char.motioncapture,\r\n        spriteurl: char.spriteurl,\r\n      }));\r\n\r\n      setCharacters(formattedCharacters);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch characters:\", err);\r\n      setCharacters([]);\r\n    } finally {\r\n      setLoadingCharacters(false);\r\n    }\r\n  };\r\n\r\n  const handleCharacterAdded = () => {\r\n    fetchCharacters()\r\n    setView(\"characters\")\r\n  }\r\n\r\n  const fetchMobs = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/mobs\")\r\n      const data = await response.json()\r\n      const formattedMobs = (data.mobs || []).map((mob: any) => ({\r\n        mobid: mob.mobid,\r\n        mobname: mob.mobname,\r\n        mobtype: mob.mobtype,\r\n        description: mob.description,\r\n        weakness: mob.weakness,\r\n        mobspriteurl: mob.mobspriteurl,\r\n        spawnnotes: mob.spawnnotes,\r\n      }))\r\n      setMobs(formattedMobs)\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch mobs:\", err)\r\n    } finally {\r\n      setLoadingMobs(false)\r\n    }\r\n  }\r\n\r\n  const handleMobAdded = () => {\r\n    fetchMobs()\r\n    setView(\"mobs\")\r\n  }\r\n\r\n  const fetchMaps = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/maps\")\r\n      const data = await response.json()\r\n      const formattedMaps = (data.maps || []).map((map: any) => ({\r\n        mapid: map.mapid,\r\n        mapname: map.mapname,\r\n        floorname: map.floorname,\r\n        description: map.description,\r\n        mapurl: map.mapurl,\r\n      }))\r\n      setMaps(formattedMaps)\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch maps:\", err)\r\n    } finally {\r\n      setLoadingMaps(false)\r\n    }\r\n  }\r\n\r\n  const handleMapAdded = () => {\r\n    fetchMaps()\r\n    setView(\"maps\")\r\n  }\r\n\r\n  const navItems = [\r\n    { id: \"home\", label: \"Dashboard\" },\r\n    { id: \"browse\", label: \"Browse Games\" },\r\n    { id: \"add\", label: \"Add Game\" },\r\n    { id: \"characters\", label: \"Characters\" },\r\n    { id: \"maps\", label: \"Maps\" },\r\n    { id: \"mobs\", label: \"Mobs\" },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Header */}\r\n      <header className=\"bg-primary text-primary-foreground border-b-4 border-accent\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\r\n          <button\r\n            onClick={() => setView(\"home\")}\r\n            className=\"flex items-center gap-2 hover:opacity-80 transition-opacity\"\r\n          >\r\n            <div className=\"text-2xl font-bold\">CRIMSON DB</div>\r\n          </button>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button onClick={() => setMenuOpen(!menuOpen)} className=\"md:hidden p-2 hover:bg-primary/80\">\r\n            {menuOpen ? <X size={24} /> : <Menu size={24} />}\r\n          </button>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setView(\"account\")}\r\n              className=\"text-sm mr-4 underline hover:opacity-80 transition-opacity\"\r\n            >\r\n              {user.username}\r\n            </button>\r\n\r\n            {navItems.map((item) => (\r\n              <Button\r\n                key={item.id}\r\n                onClick={() => setView(item.id as any)}\r\n                variant={view === item.id ? \"default\" : \"outline\"}\r\n                className={`${view === item.id\r\n                  ? \"bg-accent text-accent-foreground\"\r\n                  : \"border-primary-foreground text-primary-foreground hover:bg-primary/80\"\r\n                  }`}\r\n              >\r\n                {item.label}\r\n              </Button>\r\n            ))}\r\n            <Button\r\n              onClick={onLogout}\r\n              variant=\"outline\"\r\n              className=\"border-primary-foreground text-primary-foreground hover:bg-primary/80 bg-transparent\"\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {menuOpen && (\r\n          <div className=\"md:hidden bg-primary/95 border-t border-primary-foreground p-4 space-y-2\">\r\n            <div className=\"text-sm pb-2\">{user.username}</div>\r\n            {navItems.map((item) => (\r\n              <Button\r\n                key={item.id}\r\n                onClick={() => {\r\n                  setView(item.id as any)\r\n                  setMenuOpen(false)\r\n                }}\r\n                className=\"w-full justify-start\"\r\n                variant={view === item.id ? \"default\" : \"outline\"}\r\n              >\r\n                {item.label}\r\n              </Button>\r\n            ))}\r\n            <Button onClick={onLogout} className=\"w-full justify-start bg-transparent\" variant=\"outline\">\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-7xl mx-auto p-4\">\r\n        {view === \"home\" && <DashboardHome games={games} characters={characters} maps={maps} mobs={mobs} onNavigate={setView} />}\r\n        {view === \"browse\" && <GamesGallery games={games} loading={loadingGames} onRefresh={fetchGames} />}\r\n        {view === \"add\" && <AddGameForm onGameAdded={handleGameAdded} />}\r\n        {view === \"characters\" && <CharacterBrowser characters={characters} loading={loadingCharacters} onRefresh={fetchCharacters} onCharacterAdded={handleCharacterAdded} />}\r\n        {view === \"maps\" && <MapBrowser maps={maps} loading={loadingMaps} onRefresh={fetchMaps} onMapAdded={handleMapAdded} />}\r\n        {view === \"mobs\" && <MobBrowser mobs={mobs} loading={loadingMobs} onRefresh={fetchMobs} onMobAdded={handleMobAdded} />}\r\n      </main>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5712, "column": 0}, "map": {"version":3,"sources":["file:///D:/the-crimson-archive/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { AuthForm } from \"@/components/auth-form\"\r\nimport { Dashboard } from \"@/components/dashboard\"\r\n\r\nexport default function Home() {\r\n  const [user, setUser] = useState<{ email: string; username: string } | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    const supabase = createClient()\r\n\r\n    if (!supabase) {\r\n      setError(\r\n        \"Supabase not configured. Please add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY to your environment variables.\",\r\n      )\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    const checkUser = async () => {\r\n      try {\r\n        const {\r\n          data: { user: supabaseUser },\r\n        } = await supabase.auth.getUser()\r\n\r\n        if (supabaseUser) {\r\n          setUser({\r\n            email: supabaseUser.email || \"\",\r\n            username: supabaseUser.user_metadata?.display_name || supabaseUser.email?.split(\"@\")[0] || \"User\",\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.error(\"[v0] Error checking user:\", error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    checkUser()\r\n\r\n    const {\r\n      data: { subscription },\r\n    } = supabase.auth.onAuthStateChange(async (_event, session) => {\r\n      if (session?.user) {\r\n        setUser({\r\n          email: session.user.email || \"\",\r\n          username: session.user.user_metadata?.display_name || session.user.email?.split(\"@\")[0] || \"User\",\r\n        })\r\n      } else {\r\n        setUser(null)\r\n      }\r\n    })\r\n\r\n    return () => {\r\n      subscription?.unsubscribe()\r\n    }\r\n  }, [])\r\n\r\n  const handleLogout = async () => {\r\n    const supabase = createClient()\r\n    if (supabase) {\r\n      await supabase.auth.signOut()\r\n    }\r\n    setUser(null)\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <main className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-accent mx-auto mb-4\"></div>\r\n          <p className=\"text-muted-foreground\">Loading...</p>\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <main className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"bg-red-900/20 border border-red-500 rounded-lg p-6 max-w-md\">\r\n          <h1 className=\"text-red-500 font-bold mb-2\">Configuration Error</h1>\r\n          <p className=\"text-white text-sm\">{error}</p>\r\n          <p className=\"text-muted-foreground text-xs mt-4\">\r\n            Check your Vercel project's environment variables in the \"Vars\" section of the Connect sidebar.\r\n          </p>\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-background\">\r\n      {user ? (\r\n        <Dashboard user={user} onLogout={handleLogout} />\r\n      ) : (\r\n        <AuthForm\r\n            onLoginSuccess={(userData) => {\r\n              setUser({\r\n                email: userData.email,\r\n                username: (userData as { username?: string }).username ?? userData.email.split(\"@\")[0] ?? \"User\",\r\n              })\r\n            }}\r\n          />\r\n      )}\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAA6C;IAC7E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,IAAA,yIAAY;QAE7B,IAAI,CAAC,UAAU;YACb,SACE;YAEF,WAAW;YACX;QACF;QAEA,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,EACJ,MAAM,EAAE,MAAM,YAAY,EAAE,EAC7B,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;gBAE/B,IAAI,cAAc;oBAChB,QAAQ;wBACN,OAAO,aAAa,KAAK,IAAI;wBAC7B,UAAU,aAAa,aAAa,EAAE,gBAAgB,aAAa,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;oBAC7F;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;QAEA,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAAC,OAAO,QAAQ;YACjD,IAAI,SAAS,MAAM;gBACjB,QAAQ;oBACN,OAAO,QAAQ,IAAI,CAAC,KAAK,IAAI;oBAC7B,UAAU,QAAQ,IAAI,CAAC,aAAa,EAAE,gBAAgB,QAAQ,IAAI,CAAC,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;gBAC7F;YACF,OAAO;gBACL,QAAQ;YACV;QACF;QAEA,OAAO;YACL,cAAc;QAChB;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,MAAM,WAAW,IAAA,yIAAY;QAC7B,IAAI,UAAU;YACZ,MAAM,SAAS,IAAI,CAAC,OAAO;QAC7B;QACA,QAAQ;IACV;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAI7C;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,8OAAC;wBAAE,WAAU;kCAAsB;;;;;;kCACnC,8OAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;;;;;;IAM1D;IAEA,qBACE,8OAAC;QAAK,WAAU;kBACb,qBACC,8OAAC,qIAAS;YAAC,MAAM;YAAM,UAAU;;;;;iCAEjC,8OAAC,uIAAQ;YACL,gBAAgB,CAAC;gBACf,QAAQ;oBACN,OAAO,SAAS,KAAK;oBACrB,UAAU,AAAC,SAAmC,QAAQ,IAAI,SAAS,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;gBAC5F;YACF;;;;;;;;;;;AAKZ"}}]
}